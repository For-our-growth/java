# Collection Framework 

 

- ##### 책 '이것이 자바다'를 참고해서 작성한 문서입니다. 

 

 

 

### List 

#### ArrayList 

ArrayList는 List 인터페이스의 구현 클래스다. 객체를 추가하면 객체가 인덱스로 관리된다. 그 점에서 일반 배열과 유사하지만, 배열은 생성할 때 크기가 고정되고 사용 중에 크기를 변경할 수 없지만, ArrayList는 저장 용량(capacity)을 초과한 객체들이 들어오면 자동적으로 저장 용량이 늘어난다. 

ArrayList를 생성하기 위해서는 저장할 객체 타입을 타입 파라미터로 표기하고 기본 생성자를 호출하면 된다. 아래는 String을 저장하는 ArrayList는 아래처럼 생성할 수 있다. 

```java
List<String> List = new ArrayList<String>(); 
```

기본 생성자로 생성하면 내부에 10개의 객체를 저장할 수 있는 초기 용량을 갖게 된다. 저장하는 객체 수가 늘어나면 용량이 자동을 증가하지만, 처음부터 용량을 크게 잡고 싶다면 용량의 크기를 매개값으로 받는 생성자를 이용하면 된다. 

```java
List<String> list = new ArrayList<String>(30); 
```

ArrayList에 객체를 추가하면 인덱스 0부터 차례대로 저장된다. ArrayList에서 특정 인덱스의 객체를 제거하면 바로 뒤 인덱스부터 마지막 인덱스까지 모두 앞으로 1씩 당겨진다. 마찬가지로 특정 인덱스에 객체를 삽입하면 해당 인덱스부터 마지막 인덱스까지 모두 1씩 밀려난다. 

따라서 빈번한 객체 삭제와 삽입이 일어나는 곳에서는 ArrayList를 사용하지 않는 것이 바람직하다. 이런 경우 LinkedList를 사용하는 것이 좋다. 하지만 인덱스 검색이나, 맨 마지막에 객체를 추가하는 경우는 ArrayList가 더 좋은 성능을 발휘한다. 



#### Vector 

Vector는 ArrayList와 ***\*동일한 내부 구조\****를 가지고 있다. Vector를 생성하기 위해서는 저장할 객체 타입을 타입 파라미터로 표기하고 기본 생성자를 호출하면 된다. 

```java
List<E> list = new Vector<E>(); 
```

ArrayList와 다른 점은 Vector는 동기화된(synchronized) 메소드로 구성되어 있기 때문에 멀티 스레드가 동시에 이 메소드들을 실행할 수 없고, 하나의 스레드가 실행을 완료해야만 다른 스레드를 실행할 수 있다. 그래서 멀티 스레드 환경에서 안전하게 객체를 추가, 삭제할 수 있다. 이것을 스레드가 안전(Thread Safe)라고 한다. 



#### LinkedList 

ArrayList와 사용 방법은 똑같지만 내부 구조는 다르다. ArrayList는 내부 배열에 객체를 저장해서 인덱스로 관리하지만,  LinkedList는 인접 참조를 링크해서 체인처럼 관리한다. 

LinkedList에서 특정 인덱스의 객체를 제거하면 앞뒤 링크만 변경되고 나머지 링크는 변경되지 않는다. 특정 인덱스에 객체를 삽입할 때에도 마찬가지다. ArrayList는 중간 인덱스의 객체를 제거하면 뒤의 객체는 인덱스가 1씩 앞으로 당겨진다. 그렇기에 빈번한 객체 삭제와 삽입이 일어나는 곳에서는 LinkedList가 더 유리하다. 

LinkedList를 생성하기 위해서는 저장할 객체 타입을 타입 파라미터 (E)에 표기하고 기본 생성자를 호출하면 된다. LinkedList가 처음 생성될 때에는 어떠한 링크도 만들어지지 않기 때문에 내부는 비어있다고 보면 된다. 

```java
List<E> list = new LinkedList<E>(); 
```

추가/삭제하는 경우는 ArrayList가 빠르지만, 중간에 추가/삭제할 경우는 앞뒤 링크 정보만 변경하면 되는 LinkedList가 더 빠르다. ArrayList는 뒤쪽 인덱스들을 모두 1씩 증가/감소시키는 시간이 필요하기 때문에 느리다. 

| 구분       | 순차적으로 추가/삭제 | 중간에 추가/삭제 | 검색   | 

| ---------- | -------------------- | ---------------- | ------ | 

| ArrayList  | 빠르다               | 느리다           | 빠르다 | 

| LinkedList | 느리다               | 빠르다           | 느리다 |