# Generic

##### - 책 '이것이 자바다'를 참고해서 작성한 문서입니다.



#### 제네릭 메소드 (<T,R> R method(T t))

제네릭 메소드는 매개 타입과 리턴 타입으로 타입 파라미터를 갖는 메소드를 말한다. 제네릭 메소드를 선언하는 방법은 리턴 타입 앞에 <> 기호를 추가하고 타입 파라미터를 기술한 다음, 리턴 타입과 매개 타입으로 타입 파라미터를 사용하면 된다.

```java
public <타입 파라미터,...> 리턴 타입 메소드명(매개변수,...) { ... }
```

제네릭 메소드는 두 가지 방식으로 호출할 수 있다. 코드에서 타입 파라미터의 구체적인 타입을 명시적으로 지정해도 되고, 컴파일러가 매개값의 타입을 보고 구체적인 타입을 추정하도록 할 수도 있다.

```java
리턴타입 변수 = <구체적타입> 메소드명(매개값);	// 명시적으로 구체적 타입을 지정
리턴타입 변수 = 메소드명(매개값);			   // 매개값을 보고 구체적 타입을 추정
```



#### 제한된 타입 파라미터 (<T extends 최상위타입>)

타입 파라미터에 지정되는 구체적인 타입을 제한할 필요가 종종 있다. 예를 들어 숫자를 연산하는 제네릭 메소드는 매개값으로 Number 타입 또는 하위 클래스 타입(Byte, Short, Integer, Long, Double)의 인스턴스만 가져야 한다. 이것이 제한된 타입 파라미터(bounded type prarameter)가 필요한 이유이다.

제한된 타입 파라미터를 선언하려면 타입 파라미터 뒤에 extends 키워드를 붙이고 상위 타입을 명시하면 된다. 이때 상위 타입은 클래스뿐만 아니라 인터페이스도 가능하다. (인터페이스라고 해서 implements를 사용하지는 않는다.)

```java
public <T extends 상위타입> 리턴타입 메소드(매개변수, ...) { ... }
```

타입 파라미터에 지정되는 구체적인 타입은 상위 타입이거나 상위 타입의 하위 또는 구현 클래스만 가능하다. 주의할 점은 메소드의 중괄호 {} 안에서 타입 파라미터 변수로 사용 가능한 것은 상위 타입의 멤버(필드, 메소드)로 제한된다. 하위 타입에만 있는 필드와 메소드는 사용할 수 없다.

```java
// 숫자 타입만 구체적인 타입으로 갖는 제네릭 메소드
public <T extends Number> int compare(T t1, T t2) {
	double v1 = t1.doubleValue();	// Number의 doubleValue() 메소드 사용
	double v2 = t2.doubleValue();	// Number의 doubleValue() 메소드 사용
	return Double.compare(v1, v2);
}
```



#### 와일드카드 타입 (<?>, <? extends ...>, <? super ...>)

코드에서 ?를 일반적으로 와일드카드(wildcard)라고 부른다. 제네릭 타입을 매개값이나 리턴 타입으로 사용할 때 구체적인 타입 대신 와일드카드를 다음과 같이 세 가지 형태로 사용할 수 있다.

- 제네릭타입 <?> : Unbounded Wildcards (제한 없음)
  - 타입 파라미터를 대치하는 구체적인 타입으로 모든 클래스나 인터페이스 타입이 올 수 있다.
- 제네릭타입 <? extends 상위타입> : Upper Bounded Wildcards (상위 클래스 제한)
  - 타입 파라미터를 대치하는 구체적인 타입으로 상위 타입이나 하위 타입만 올 수 있다.
- 제네릭타입 <? super 하위타입> : Lower Bounded Wildcards(하위 클래스 제한)
  - 타입 파라미터를 대치하는 구체적인 타입으로 하위 타입이나 상위 타입이 올 수 있다.



#### 제네릭 타입의 상속과 구현

제네릭 타입도 다른 타입과 마찬가지로 부모 클래스가 될 수 있다. 아래 코드는 Product<T, M> 제네릭 타입을 상속해서 ChildProduct<T, M> 타입을 정의한다.

```java
public class ChildProduct<T, M> extends Product<T, M> { ... }
```

자식 제네릭 타입은 추가적으로 타입 파라미터를 가질 수 있다. 다음은 세 가지 타입 파라미터를 가진 자식 제네릭 타입을 선언한 것이다.

```java
public class ChildProduct<T, M, C> extends Product<T, M> { ... }
```